{{ define "main" }}
<div class="container" role="main">
    {{ if .IsHome }}
    {{ .Content }}
    <h2>Recent Posts</h2>
    <div class="posts-list">
        {{ range first 5 (where site.RegularPages "Section" "posts").ByDate.Reverse }}
        {{ partial "preview.html" . }}
        {{ end }}
    </div>
    <p><a href="/posts">View all posts â†’</a></p>
    {{ else }}
    <!-- Regular list page -->
    <div class="posts-list">
        {{ range .Pages.ByDate.Reverse }}
        {{ partial "preview.html" . }}
        {{ end }}
    </div>
    {{ end }}
</div>
{{ end }}