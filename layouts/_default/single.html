{{ define "main" }}
  <div class="container" role="main">
    <article class="article" class="blog-post">
      <div class="postmeta">
        {{ partial "postmeta.html" . }}
      </div>
      <br>
      {{ partial "toc.html" . }}

      <!-- Post Content -->
      {{ .Content }}

      <!-- Tags at the bottom (footer) -->
      {{ if .Params.tags }}
        <div class="post-tags" style="
          margin-top: 3rem;
          padding-top: 2rem;
          border-top: 1px solid #e0e0e0;
        ">
          <p style="margin-bottom: 0.75rem; font-size: 0.9rem; opacity: 0.6;">Tagged with:</p>
          <div style="display: flex; flex-wrap: wrap; gap: 0.6rem;">
            {{ range .Params.tags }}
            <a href="{{ $.Site.BaseURL }}tags/{{ . | urlize }}/" style="
              display: inline-block;
              padding: 0.4rem 1rem;
              background: #f8f8f8;
              border: 1px solid transparent;
              border-radius: 20px;
              text-decoration: none;
              color: #555;
              font-size: 0.875rem;
              font-weight: 500;
              transition: all 0.2s ease;
            " onmouseover="this.style.background='#c33'; this.style.color='#fff'; this.style.borderColor='#333'; this.style.transform='translateY(-2px)';"
               onmouseout="this.style.background='#f8f8f8'; this.style.color='#555'; this.style.borderColor='transparent'; this.style.transform='translateY(0)';">{{ . }}</a>
            {{ end }}
          </div>
        </div>
      {{ end }}
    </article>

    {{ if and (gt .WordCount 400) (.Param "backtotop") }}
      {{ partial "backtotop.html" . }}
      <button onclick="topFunction()" id="backtotopButton">
        <i class="fa fa-angle-up"></i>
      </button>
    {{ end }}
  </div>
{{ end }}
